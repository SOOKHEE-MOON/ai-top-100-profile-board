# ì½”ë“œ êµ¬ì¡° ë¶„ì„ (v3)

## ğŸ“ ì „ì²´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    index-v3.html                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  #profiles (í”„ë¡œí•„ ì„¹ì…˜)                          â”‚  â”‚
â”‚  â”‚  â”œâ”€ .profiles-container (ìŠ¤í¬ë¡¤ ì»¨í…Œì´ë„ˆ)         â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ .profile-row Ã— 5 (5ê°œ í–‰)                 â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ .profile-slot Ã— 25 (ì›ë³¸ ìŠ¬ë¡¯)         â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ .logo-card (ë¡œê³ )                      â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€ .slogan-card (ìŠ¬ë¡œê±´)                  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€ (ìœ„ ë‚´ìš© ë³µì œ - seamless ìŠ¤í¬ë¡¤)          â”‚  â”‚
â”‚  â”‚  â”œâ”€ .fixed-hosts-logo (ê³ ì • ë¡œê³  - ìš°ì¸¡)         â”‚  â”‚
â”‚  â”‚  â”œâ”€ .fixed-credit (ê³ ì • í¬ë ˆë”§ - ì¢Œì¸¡)           â”‚  â”‚
â”‚  â”‚  â””â”€ .underbar-bg (ì–¸ë”ë°” ë°°ê²½ íš¨ê³¼)              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ styles-v3.css        â†“ script-v3.js
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ë ˆì´ì•„ì›ƒ ìŠ¤íƒ€ì¼ â”‚      â”‚ ì• ë‹ˆë©”ì´ì…˜ ë¡œì§     â”‚
    â”‚ ì• ë‹ˆë©”ì´ì…˜ ì •ì˜ â”‚      â”‚ ìŠ¤í¬ë¡¤ ì œì–´        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ ë°ì´í„° ê´€ë¦¬        â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â†“
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚ data-full.json â”‚
                          â”‚  (106ëª… ë°ì´í„°)  â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“„ HTML êµ¬ì¡° (index-v3.html)

### ë ˆì´ì•„ì›ƒ íŒ¨í„´

```html
<div id="profiles" class="section">
  <!-- 5í–‰ ë ˆì´ì•„ì›ƒ -->
  <div class="profiles-container">

    <!-- 1í–‰: ìŠ¬ë¡¯0-1 + ë¡œê³  + ìŠ¬ë¡¯2-3-4 -->
    <div class="profile-row row-1">
      <div class="profile-slot" data-slot="0"></div>
      <div class="profile-slot" data-slot="1"></div>
      <div class="logo-card">...</div>
      <div class="profile-slot" data-slot="2"></div>
      <div class="profile-slot" data-slot="3"></div>
      <div class="profile-slot" data-slot="4"></div>
      <!-- ìœ„ ë‚´ìš© ë³µì œ (seamless) -->
    </div>

    <!-- 2í–‰: ìŠ¬ë¡¯5-6 + ìŠ¬ë¡œê±´ + ìŠ¬ë¡¯7-8-9 -->
    <div class="profile-row row-2">
      <div class="profile-slot" data-slot="5"></div>
      <div class="profile-slot" data-slot="6"></div>
      <div class="slogan-card">
        <div class="slogan-icon">...</div>
        <div class="slogan-text">ë¯¸ë˜ë¥¼ ê°€ì†í•˜ëŠ” ë„ì „.</div>
      </div>
      <div class="profile-slot" data-slot="7"></div>
      ...
    </div>

    <!-- 3~5í–‰: ë™ì¼ íŒ¨í„´ -->
    ...
  </div>

  <!-- ê³ ì • ìš”ì†Œ (ìŠ¤í¬ë¡¤ ì•ˆ ë¨) -->
  <div class="fixed-hosts-logo">...</div>
  <div class="fixed-credit">...</div>
  <div class="underbar-bg" id="underbar-bg"></div>
</div>
```

### í”„ë¡œí•„ ëª¨ë“ˆ êµ¬ì¡° (JavaScriptë¡œ ë™ì  ìƒì„±)

```html
<div class="profile-slot active" data-slot="0" style="min-width: XXXpx">
  <div class="profile-module">

    <!-- ì´ë¯¸ì§€ -->
    <div class="profile-image-wrapper fade-in">
      <img src="..." class="profile-image">
    </div>

    <!-- í…ìŠ¤íŠ¸ -->
    <div class="profile-text">
      <div class="profile-message wipe-in">ë©”ì‹œì§€ ë‚´ìš©</div>
      <div class="profile-nickname wipe-in">ë‹‰ë„¤ì„</div>
      <div class="profile-underbar wipe-in" style="background: ...; width: XXXpx"></div>
    </div>

  </div>
</div>
```

---

## ğŸ¨ CSS êµ¬ì¡° (styles-v3.css)

### 1. ê¸°ë³¸ ì„¤ì • (lines 1-15)
```css
* { margin: 0; padding: 0; box-sizing: border-box; }
body { width: 7680px; height: 2160px; background: #000; }
```

### 2. ì„¹ì…˜ ê³µí†µ ìŠ¤íƒ€ì¼ (17-31)
```css
.section { position: absolute; display: none; }
.section.active { display: flex; }
```

### 3. í”„ë¡œí•„ ì»¨í…Œì´ë„ˆ (103-128)
```css
.profiles-container {
  display: flex;
  flex-direction: column;
  gap: 60px;
  padding: 100px 120px;
  /* transform: translateX(-XXXpx) - JSë¡œ ì œì–´ */
}
```

### 4. ê° í–‰ (120-128)
```css
.profile-row {
  display: flex;
  gap: 80px;
  transition: all 1.2s cubic-bezier(0.4, 0.0, 0.2, 1);
}
```

### 5. í”„ë¡œí•„ ìŠ¬ë¡¯ (180-204)
```css
.profile-slot {
  flex-shrink: 0;
  min-width: 0; /* JSë¡œ ë™ì  ì„¤ì • */
  opacity: 0;
  transition: min-width 1.2s cubic-bezier(...);
}
.profile-slot.active { opacity: 1; }
```

### 6. ì• ë‹ˆë©”ì´ì…˜ í‚¤í”„ë ˆì„

**ì´ë¯¸ì§€ scale (232-252)**
```css
@keyframes imageScaleOut {
  0% { opacity: 1; transform: scale(1); }
  100% { opacity: 0; transform: scale(0.7); }
}

@keyframes imageScaleIn {
  0% { opacity: 0; transform: scale(0.7); }
  100% { opacity: 1; transform: scale(1); }
}
```

**í…ìŠ¤íŠ¸ wipe (282-303)**
```css
@keyframes wipeOutRightToLeft {
  0% { clip-path: inset(0 0 0 0); opacity: 1; }
  100% { clip-path: inset(0 100% 0 0); opacity: 0; }
}

@keyframes wipeInLeftToRight {
  0% { clip-path: inset(0 100% 0 0); opacity: 0; }
  100% { clip-path: inset(0 0 0 0); opacity: 1; }
}
```

**ì–¸ë”ë°” (345-390)**
```css
@keyframes underbarWipeOut { ... }
@keyframes underbarWipeIn { ... }
@keyframes underbarFlow { /* íë¦„ íš¨ê³¼ */ }
```

---

## ğŸ’» JavaScript êµ¬ì¡° (script-v3.js)

### ì „ì—­ ë³€ìˆ˜ & ìƒìˆ˜

```javascript
// ë°ì´í„° (1-2)
let profilesData = [];

// íƒ€ì´ë° (5-11)
const TIMING = {
  OPENING_WAIT: 1000,
  TRANSITION_DURATION: 2000,  // íŠ¸ëœì§€ì…˜ ì´ ì‹œê°„
  WIPE_DURATION: 1000,        // wipe ì• ë‹ˆë©”ì´ì…˜ (1ì´ˆ)
  ENDING: 3000
};

// ê·¸ë¼ë°ì´ì…˜ (13-18)
const GRADIENTS = [
  ["#04F3FF", "#90F779"],  // CONFIDENT COOL
  ["#DDF730", "#FFBD19"],  // INSPIRATION WARM
  ["#FF638A", "#FF1FE0"]   // ENERGETIC HOT
];

// ìŠ¬ë¡¯ë³„ ë…¸ì¶œ ì‹œê°„ (20-53)
const SLOT_DISPLAY_TIMES = {
  0: 6000, 1: 7600, 2: 9400, ...  // 25ê°œ ëª¨ë‘ ë‹¤ë¦„
};

// ìŠ¬ë¡¯ë³„ í”„ë¡œí•„ ê°œìˆ˜ (55-67)
const SLOT_PROFILE_COUNTS = {
  0: 5, 4: 5, 12: 5, 7: 5, 19: 5, 17: 5,  // 6ìŠ¬ë¡¯ Ã— 5ëª…
  1: 4, 2: 4, 3: 4, ...  // 19ìŠ¬ë¡¯ Ã— 4ëª…
};

// í”„ë¡œí•„ ì‹œí€€ìŠ¤ & ì¸ë±ìŠ¤ (69-71)
let slotProfileSequences = [];  // ê° ìŠ¬ë¡¯ì˜ í”„ë¡œí•„ ìˆœì„œ
let slotCurrentIndex = [];      // ê° ìŠ¬ë¡¯ì˜ í˜„ì¬ ì¸ë±ìŠ¤

// ì´ë¯¸ì§€ í”„ë¦¬ë¡œë”© (73-74)
const preloadedImages = new Map();

// ìŠ¤í¬ë¡¤ ì œì–´ (459-465)
let scrollPosition = 0;
let scrollAnimationId = null;
const SCROLL_SPEED = 150;  // px/ì´ˆ
let isProfileCycleActive = false;
```

---

### ì£¼ìš” í•¨ìˆ˜ êµ¬ì¡°

```
main flow:
  window.load
    â†’ loadData()
      â†’ initializeSlots()
        â†’ renderProfile() Ã— 25
    â†’ runAnimation()
      â†’ switchSection()
      â†’ startProfileCycle()
        â†’ smoothInfiniteScroll()
          â†’ animate() [recursive, 60fps]
            â†’ calculateTotalWidth() [ë§¤ í”„ë ˆì„]
        â†’ startSlotCycle() Ã— 25 [parallel]
          â†’ transitionProfile() [ì¬ê·€]
            â†’ preload next image
            â†’ fade-out (1ì´ˆ)
            â†’ change data
            â†’ fade-in (1ì´ˆ)
            â†’ recursive call
```

### 1. ë°ì´í„° ë¡œë”© & ì´ˆê¸°í™”

**`loadData()` (77-122)**
```javascript
async function loadData() {
  // 1. data-full.json ë¡œë“œ
  const response = await fetch('data-full.json');
  profilesData = await response.json();

  // 2. ê° ìŠ¬ë¡¯ì— í”„ë¡œí•„ ì‹œí€€ìŠ¤ ìƒì„±
  let profileCounter = 0;
  slotProfileSequences = Array(25).fill(0).map((_, slotIndex) => {
    const sequence = [];
    const profilesPerSlot = SLOT_PROFILE_COUNTS[slotIndex];

    // 100ì‚¬ì´í´ ë°˜ë³µ
    for (let cycle = 0; cycle < 100; cycle++) {
      for (let j = 0; j < profilesPerSlot; j++) {
        sequence.push(profileCounter + j);
      }
    }

    profileCounter += profilesPerSlot;
    return sequence;
  });

  // 3. ì´ˆê¸° ì¸ë±ìŠ¤ ì„¤ì •
  slotCurrentIndex = Array(25).fill(0);

  // 4. ìŠ¬ë¡¯ ì´ˆê¸°í™”
  initializeSlots();
}
```

**`initializeSlots()` (124-154)**
```javascript
function initializeSlots() {
  const processedSlots = new Set();
  const slots = document.querySelectorAll('.profile-slot');

  slots.forEach((slot) => {
    const slotNumber = parseInt(slot.getAttribute('data-slot'));

    // ì¤‘ë³µ ì œê±° (ë³µì œë³¸ ì œì™¸)
    if (processedSlots.has(slotNumber)) return;
    processedSlots.add(slotNumber);

    // ì²« ë²ˆì§¸ í”„ë¡œí•„ ê°€ì ¸ì˜¤ê¸°
    const profileIndex = slotProfileSequences[slotNumber][0];
    const profile = profilesData[profileIndex];

    // ê°™ì€ ìŠ¬ë¡¯ ë²ˆí˜¸ë¥¼ ê°€ì§„ ëª¨ë“  ìš”ì†Œì— ë Œë”ë§ (ì›ë³¸+ë³µì œ)
    const allSlotsWithSameNumber = document.querySelectorAll(
      `.profile-slot[data-slot="${slotNumber}"]`
    );
    allSlotsWithSameNumber.forEach(s => {
      renderProfile(s, profile, slotNumber);
      s.classList.add('active');
    });
  });
}
```

**`renderProfile(slot, profile, slotIndex)` (156-185)**
```javascript
function renderProfile(slot, profile, slotIndex) {
  // 1. ê·¸ë¼ë°ì´ì…˜ ì„ íƒ
  const gradient = GRADIENTS[slotIndex % GRADIENTS.length];
  const gradientStyle = `background: linear-gradient(90deg, ${gradient[0]}, ${gradient[1]})`;

  // 2. ë„ˆë¹„ ê³„ì‚° (ë©”ì‹œì§€ ê¸¸ì´ ê¸°ë°˜)
  const messageLength = profile.message.length;
  const estimatedWidth = Math.max(600, messageLength * 32);
  slot.style.minWidth = `${estimatedWidth + 260}px`;

  // 3. HTML ìƒì„± (ì´ˆê¸° ìƒíƒœ: wipe-out)
  slot.innerHTML = `
    <div class="profile-module">
      <div class="profile-image-wrapper">
        <img src="${profile.profile_image}"
             style="opacity: 0;"
             class="profile-image">
      </div>
      <div class="profile-text">
        <div class="profile-message wipe-out">${profile.message}</div>
        <div class="profile-nickname wipe-out">${profile.nickname}</div>
        <div class="profile-underbar wipe-out"
             style="${gradientStyle}; width: ${estimatedWidth}px;"></div>
      </div>
    </div>
  `;
}
```

---

### 2. í”„ë¡œí•„ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜

**`transitionProfile(slotNumber)` (193-307) - í•µì‹¬ í•¨ìˆ˜**
```javascript
async function transitionProfile(slotNumber) {
  // 0. ëª¨ë“  ë³µì œë³¸ ì°¾ê¸°
  const allSlots = document.querySelectorAll(`.profile-slot[data-slot="${slotNumber}"]`);

  // 1. ë‹¤ìŒ í”„ë¡œí•„ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
  const currentSeqIndex = slotCurrentIndex[slotNumber];
  const nextSeqIndex = (currentSeqIndex + 1) % slotProfileSequences[slotNumber].length;
  slotCurrentIndex[slotNumber] = nextSeqIndex;

  const nextProfileIndex = slotProfileSequences[slotNumber][nextSeqIndex];
  const nextProfile = profilesData[nextProfileIndex];

  // 2. ëª¨ë“  DOM ìš”ì†Œ ìˆ˜ì§‘
  const allElements = [];
  allSlots.forEach(slot => {
    const imageWrapper = slot.querySelector('.profile-image-wrapper');
    const nickname = slot.querySelector('.profile-nickname');
    const message = slot.querySelector('.profile-message');
    const underbar = slot.querySelector('.profile-underbar');
    const image = slot.querySelector('.profile-image');

    if (imageWrapper && nickname && message && underbar && image) {
      allElements.push({ slot, imageWrapper, nickname, message, underbar, image });
    }
  });

  // 3. í”„ë¦¬ë¡œë“œëœ ì´ë¯¸ì§€ ëŒ€ê¸°
  const preloadKey = `slot-${slotNumber}`;
  const preloadImg = preloadedImages.get(preloadKey);
  const imageLoadPromise = new Promise((resolve) => {
    if (preloadImg && preloadImg.complete) resolve();
    else if (preloadImg) {
      preloadImg.onload = resolve;
      preloadImg.onerror = resolve;
      setTimeout(resolve, 100);
    } else {
      const fallbackImg = new Image();
      fallbackImg.src = nextProfile.profile_image;
      fallbackImg.onload = resolve;
      fallbackImg.onerror = resolve;
      setTimeout(resolve, 200);
    }
  });

  // === ì „í™˜ 3ë‹¨ê³„ ===

  // ğŸ”´ 1ë‹¨ê³„: fade-out + wipe-out (1ì´ˆ)
  allElements.forEach(({ imageWrapper, nickname, message, underbar }) => {
    imageWrapper.classList.add('fade-out');
    nickname.classList.add('wipe-out');
    message.classList.add('wipe-out');
    underbar.classList.add('wipe-out');
  });
  await new Promise(resolve => setTimeout(resolve, TIMING.WIPE_DURATION));
  await imageLoadPromise;

  // ğŸŸ¡ 2ë‹¨ê³„: ë°ì´í„° êµì²´ (íˆ¬ëª… ìƒíƒœ ìœ ì§€)
  const messageLength = nextProfile.message.length;
  const estimatedWidth = Math.max(600, messageLength * 32);

  allElements.forEach(({ slot, imageWrapper, image, nickname, message, underbar }) => {
    // íˆ¬ëª… ìƒíƒœë¥¼ inline styleë¡œ ê³ ì • (ê¹œë¹¡ì„ ë°©ì§€!)
    image.style.opacity = '0';
    image.style.transform = 'scale(0.7)';
    nickname.style.clipPath = 'inset(0 100% 0 0)';
    nickname.style.opacity = '0';
    message.style.clipPath = 'inset(0 100% 0 0)';
    message.style.opacity = '0';
    underbar.style.clipPath = 'inset(0 100% 0 0)';
    underbar.style.opacity = '0';

    // ë°ì´í„° ë³€ê²½
    image.src = nextProfile.profile_image;
    image.alt = nextProfile.nickname;
    message.textContent = nextProfile.message;
    nickname.textContent = nextProfile.nickname;
    underbar.style.background = `linear-gradient(90deg, ${gradient[0]}, ${gradient[1]})`;
    underbar.style.width = `${estimatedWidth}px`;
    slot.style.minWidth = `${estimatedWidth + 260}px`;

    // í´ë˜ìŠ¤ ì œê±°
    imageWrapper.classList.remove('fade-out');
    nickname.classList.remove('wipe-out');
    message.classList.remove('wipe-out');
    underbar.classList.remove('wipe-out');
  });

  // ë¦¬í”Œë¡œìš° ë³´ì¥
  await new Promise(resolve => requestAnimationFrame(() => requestAnimationFrame(resolve)));

  // ğŸŸ¢ 3ë‹¨ê³„: fade-in + wipe-in (1ì´ˆ)
  allElements.forEach(({ imageWrapper, image, nickname, message, underbar }) => {
    // inline style ì œê±° (CSS ì• ë‹ˆë©”ì´ì…˜ í™œì„±í™”)
    image.style.opacity = '';
    image.style.transform = '';
    nickname.style.clipPath = '';
    nickname.style.opacity = '';
    message.style.clipPath = '';
    message.style.opacity = '';
    underbar.style.clipPath = '';
    underbar.style.opacity = '';

    // í´ë˜ìŠ¤ ì¶”ê°€
    imageWrapper.classList.add('fade-in');
    nickname.classList.add('wipe-in');
    message.classList.add('wipe-in');
    underbar.classList.add('wipe-in');
  });
  await new Promise(resolve => setTimeout(resolve, TIMING.WIPE_DURATION));

  // 4. í´ë˜ìŠ¤ ì •ë¦¬
  allElements.forEach(({ imageWrapper, nickname, message, underbar }) => {
    imageWrapper.classList.remove('fade-in');
    message.classList.remove('wipe-in');
    nickname.classList.remove('wipe-in');
    underbar.classList.remove('wipe-in');
  });
}
```

---

### 3. ë¬´í•œ ìŠ¤í¬ë¡¤ ì‹œìŠ¤í…œ

**`calculateTotalWidth()` (486-516) - ë™ì  ë„ˆë¹„ ê³„ì‚°**
```javascript
function calculateTotalWidth() {
  const profilesContainer = document.querySelector('.profiles-container');
  const firstRow = profilesContainer.querySelector('.profile-row');

  // ì›ë³¸ ìŠ¬ë¡¯ë“¤ë§Œ ê³„ì‚° (ë³µì œ ì œì™¸)
  const allSlots = firstRow.querySelectorAll('.profile-slot');
  const processedSlots = new Set();
  let totalWidth = 0;

  allSlots.forEach(slot => {
    const slotNumber = slot.getAttribute('data-slot');
    if (!processedSlots.has(slotNumber)) {
      processedSlots.add(slotNumber);
      totalWidth += slot.offsetWidth + 80;  // ìŠ¬ë¡¯ ë„ˆë¹„ + gap
    }
  });

  // ìŠ¬ë¡œê±´ ì¹´ë“œ ì¶”ê°€
  const allSloganCards = profilesContainer.querySelectorAll('.slogan-card');
  if (allSloganCards.length > 0) {
    totalWidth += allSloganCards[0].offsetWidth + 80;
  }

  // ë¡œê³  ì¹´ë“œ ì¶”ê°€
  const allLogoCards = profilesContainer.querySelectorAll('.logo-card');
  if (allLogoCards.length > 0) {
    totalWidth += allLogoCards[0].offsetWidth + 80;
  }

  return totalWidth;
}
```

**`smoothInfiniteScroll()` (518-542) - ìŠ¤í¬ë¡¤ ì—”ì§„**
```javascript
function smoothInfiniteScroll() {
  const profilesContainer = document.querySelector('.profiles-container');
  if (!profilesContainer) return;

  const speedPerFrame = SCROLL_SPEED / 60;  // 60fps ê¸°ì¤€

  function animate() {
    scrollPosition += speedPerFrame;

    // âš ï¸ ë§¤ í”„ë ˆì„ë§ˆë‹¤ ì‹¤ì œ ë„ˆë¹„ ì¬ì¸¡ì • (ë™ì  ìŠ¬ë¡¯ ë„ˆë¹„ ëŒ€ì‘)
    const currentTotalWidth = calculateTotalWidth();

    // seamless ë¦¬ì…‹
    if (scrollPosition >= currentTotalWidth) {
      scrollPosition = 0;  // ğŸ”´ ì´ìŠˆ: overflow ì†ì‹¤
    }

    profilesContainer.style.transform = `translateX(-${scrollPosition}px)`;
    scrollAnimationId = requestAnimationFrame(animate);
  }

  animate();
}
```

**`startSlotCycle(slotNumber)` (404-457) - ìŠ¬ë¡¯ë³„ ì¬ê·€ ìˆœí™˜**
```javascript
async function startSlotCycle(slotNumber) {
  // ì¤‘ë‹¨ ì²´í¬
  if (!isProfileCycleActive) return;

  // 1. ë…¸ì¶œ ì‹œê°„ ê°€ì ¸ì˜¤ê¸°
  const displayTime = getDisplayTimeForSlot(slotNumber);

  // 2. ë‹¤ìŒ ì´ë¯¸ì§€ í”„ë¦¬ë¡œë”© (ë…¸ì¶œ ì‹œê°„ ë™ì•ˆ!)
  const currentSeqIndex = slotCurrentIndex[slotNumber];
  const nextSeqIndex = (currentSeqIndex + 1) % slotProfileSequences[slotNumber].length;
  const nextProfileIndex = slotProfileSequences[slotNumber][nextSeqIndex];
  const nextProfile = profilesData[nextProfileIndex];

  if (nextProfile) {
    const preloadKey = `slot-${slotNumber}`;
    const preloadImg = new Image();
    preloadImg.src = nextProfile.profile_image;
    preloadedImages.set(preloadKey, preloadImg);
  }

  // 3. displayTimeë§Œí¼ ëŒ€ê¸° (6~10.8ì´ˆ)
  await new Promise(resolve => setTimeout(resolve, displayTime));
  if (!isProfileCycleActive) return;

  // 4. íŠ¸ëœì§€ì…˜ ì‹¤í–‰
  await transitionProfile(slotNumber);
  if (!isProfileCycleActive) return;

  // 5. ì¬ê·€ í˜¸ì¶œ (ë¬´í•œ ë°˜ë³µ)
  startSlotCycle(slotNumber);
}
```

---

### 4. ë©”ì¸ í”Œë¡œìš°

**`startProfileCycle()` (526-636) - ì‹œì‘ í•¨ìˆ˜**
```javascript
async function startProfileCycle() {
  // 1. í”Œë˜ê·¸ í™œì„±í™”
  isProfileCycleActive = true;

  // 2. ìŠ¤í¬ë¡¤ ì‹œì‘
  const profilesContainer = document.querySelector('.profiles-container');
  if (profilesContainer) {
    profilesContainer.classList.add('scrolling');
    smoothInfiniteScroll();
  }

  // 3. ì²« ë“±ì¥ ì• ë‹ˆë©”ì´ì…˜ (wipe-in)
  const allSlots = document.querySelectorAll('.profile-slot');
  const processedSlots = new Set();

  // wipe-out ì œê±°
  allSlots.forEach(slot => {
    const slotNumber = slot.getAttribute('data-slot');
    if (processedSlots.has(slotNumber)) return;
    processedSlots.add(slotNumber);

    const allSameSlots = document.querySelectorAll(`.profile-slot[data-slot="${slotNumber}"]`);
    allSameSlots.forEach(s => {
      const imageWrapper = s.querySelector('.profile-image-wrapper');
      const nickname = s.querySelector('.profile-nickname');
      const message = s.querySelector('.profile-message');
      const underbar = s.querySelector('.profile-underbar');

      if (nickname && message && underbar && imageWrapper) {
        // ì´ˆê¸° img opacity ë¦¬ì…‹
        const image = imageWrapper.querySelector('.profile-image');
        if (image) image.style.opacity = '';

        nickname.classList.remove('wipe-out');
        message.classList.remove('wipe-out');
        underbar.classList.remove('wipe-out');
      }
    });
  });

  await new Promise(resolve => requestAnimationFrame(() => requestAnimationFrame(resolve)));

  // wipe-in ì‹œì‘
  processedSlots.clear();
  allSlots.forEach(slot => {
    const slotNumber = slot.getAttribute('data-slot');
    if (processedSlots.has(slotNumber)) return;
    processedSlots.add(slotNumber);

    const allSameSlots = document.querySelectorAll(`.profile-slot[data-slot="${slotNumber}"]`);
    allSameSlots.forEach(s => {
      const imageWrapper = s.querySelector('.profile-image-wrapper');
      const nickname = s.querySelector('.profile-nickname');
      const message = s.querySelector('.profile-message');
      const underbar = s.querySelector('.profile-underbar');

      if (nickname && message && underbar && imageWrapper) {
        imageWrapper.classList.add('fade-in');
        nickname.classList.add('wipe-in');
        message.classList.add('wipe-in');
        underbar.classList.add('wipe-in');
      }
    });
  });

  await new Promise(resolve => setTimeout(resolve, TIMING.WIPE_DURATION));

  // í´ë˜ìŠ¤ ì •ë¦¬ (ìƒëµ - ì½”ë“œ ë™ì¼)

  // 4. ëª¨ë“  ìŠ¬ë¡¯ ë™ì‹œ ì‹œì‘ (ë³‘ë ¬)
  for (let slotNumber = 0; slotNumber < 25; slotNumber++) {
    startSlotCycle(slotNumber);  // ë¹„ë™ê¸° ì¬ê·€, ë…ë¦½ ì‹¤í–‰
  }
}
```

**`runAnimation()` (654-667)**
```javascript
async function runAnimation() {
  const profiles = document.getElementById('profiles');

  // ì¸íŠ¸ë¡œ ì—†ì´ ë°”ë¡œ í”„ë¡œí•„ ë³´ë“œ ì‹œì‘
  switchSection(null, profiles);

  // í”„ë¡œí•„ ìˆœí™˜ ì‹œì‘
  startProfileCycle();

  // ë¬´í•œ ë°˜ë³µ (ì—”ë”© ì—†ìŒ)
}
```

**`window.addEventListener('load')` (670-675)**
```javascript
window.addEventListener('load', async () => {
  console.log('ğŸš€ Page loaded');
  await loadData();
  console.log('ğŸ¬ Starting animation...');
  runAnimation();
});
```

---

## ğŸ”„ ë°ì´í„° í”Œë¡œìš°

```
1. í˜ì´ì§€ ë¡œë“œ
   â””â”€ loadData()
      â”œâ”€ fetch('data-full.json')
      â”œâ”€ í”„ë¡œí•„ ì‹œí€€ìŠ¤ ìƒì„± (100ì‚¬ì´í´)
      â”‚  slotProfileSequences[0] = [0,1,2,3,4, 0,1,2,3,4, ... Ã—100]
      â”‚  slotProfileSequences[1] = [5,6,7,8, 5,6,7,8, ... Ã—100]
      â”‚  ...
      â””â”€ initializeSlots()
         â””â”€ renderProfile() Ã— 25

2. ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
   â””â”€ runAnimation()
      â””â”€ startProfileCycle()
         â”œâ”€ smoothInfiniteScroll()
         â”‚  â””â”€ animate() [60fps loop]
         â”‚     â”œâ”€ scrollPosition += 2.5px
         â”‚     â”œâ”€ calculateTotalWidth() [ë§¤ í”„ë ˆì„!]
         â”‚     â””â”€ transform: translateX(-XXXpx)
         â”‚
         â””â”€ startSlotCycle(0~24) Ã— 25 [parallel]
            â””â”€ [ë¬´í•œ ì¬ê·€]
               â”œâ”€ preload next image
               â”œâ”€ wait displayTime (6~10.8ì´ˆ)
               â”œâ”€ transitionProfile()
               â”‚  â”œâ”€ fade-out (1ì´ˆ)
               â”‚  â”œâ”€ change data
               â”‚  â””â”€ fade-in (1ì´ˆ)
               â””â”€ recursive call

3. í”„ë¡œí•„ ì „í™˜ (ì˜ˆ: ìŠ¬ë¡¯ 0)
   slotCurrentIndex[0] = 0 â†’ profile 0 í‘œì‹œ
   6ì´ˆ ëŒ€ê¸°
   slotCurrentIndex[0] = 1 â†’ profile 1ë¡œ ì „í™˜
   6ì´ˆ ëŒ€ê¸°
   slotCurrentIndex[0] = 2 â†’ profile 2ë¡œ ì „í™˜
   ...
   slotCurrentIndex[0] = 499 â†’ profile 4ë¡œ ì „í™˜ (99ë²ˆì§¸ ì‚¬ì´í´)
   slotCurrentIndex[0] = 500 â†’ profile 0ìœ¼ë¡œ ëŒì•„ê° (100ë²ˆì§¸ ì‚¬ì´í´)
```

---

## âš ï¸ ì£¼ìš” ì´ìŠˆ ì½”ë“œ ìœ„ì¹˜

### Issue #1: ìŠ¤í¬ë¡¤ íŠ€ëŠ” í˜„ìƒ
**ìœ„ì¹˜:** `script-v3.js:532`
```javascript
if (scrollPosition >= currentTotalWidth) {
  scrollPosition = 0;  // ğŸ”´ í•˜ë“œ ë¦¬ì…‹ â†’ overflow ì†ì‹¤
}
```

**ê°œì„ ì•ˆ:**
```javascript
if (scrollPosition >= currentTotalWidth) {
  scrollPosition = scrollPosition - currentTotalWidth;  // overflow ë³´ì¡´
}
```

### Issue #2: ë§¤ í”„ë ˆì„ DOM ì¸¡ì •
**ìœ„ì¹˜:** `script-v3.js:529`
```javascript
const currentTotalWidth = calculateTotalWidth();  // ğŸ”´ 60fps Ã— offsetWidth
```

**ìš°ë ¤:**
- Layout thrashing ê°€ëŠ¥ì„±
- ì„±ëŠ¥ ì˜¤ë²„í—¤ë“œ

### Issue #3: ê¹œë¹¡ì„ ë°©ì§€ ë¡œì§
**ìœ„ì¹˜:** `script-v3.js:267-275`
```javascript
// inline styleë¡œ íˆ¬ëª… ìƒíƒœ ê³ ì •
image.style.opacity = '0';
image.style.transform = 'scale(0.7)';
// ... (í´ë˜ìŠ¤ ì œê±° ì „ì— ìµœì¢… ìƒíƒœ ê³ ì •)
```

---

## ğŸ“Š ë³µì¡ë„ ë¶„ì„

### ì‹œê°„ ë³µì¡ë„
- **ì´ˆê¸°í™”**: O(n) - n = 106ê°œ í”„ë¡œí•„
- **ë§¤ í”„ë ˆì„**: O(m) - m = ìŠ¬ë¡¯ ê°œìˆ˜ (25ê°œ)
- **í”„ë¡œí•„ ì „í™˜**: O(k) - k = ë³µì œë³¸ ê°œìˆ˜ (2ê°œ)

### ê³µê°„ ë³µì¡ë„
- **í”„ë¡œí•„ ì‹œí€€ìŠ¤**: O(n Ã— c) - n=25ìŠ¬ë¡¯, c=100ì‚¬ì´í´ â‰ˆ 10,000ê°œ ì¸ë±ìŠ¤
- **DOM ìš”ì†Œ**: O(m Ã— r) - m=25ìŠ¬ë¡¯, r=2ë³µì œ = 50ê°œ ëª¨ë“ˆ

### ì„±ëŠ¥ í•«ìŠ¤íŒŸ
1. âš ï¸ `calculateTotalWidth()` - 60fps í˜¸ì¶œ
2. âš ï¸ `querySelectorAll()` - í”„ë¡œí•„ ì „í™˜ë§ˆë‹¤
3. âœ… ì´ë¯¸ì§€ í”„ë¦¬ë¡œë”© - íš¨ìœ¨ì 

---

## ğŸ¯ ê°œì„  í¬ì¸íŠ¸

### 1. ìŠ¤í¬ë¡¤ ì‹œìŠ¤í…œ
- [ ] overflow ë³´ì¡´ ë°©ì‹ìœ¼ë¡œ ë³€ê²½
- [ ] ResizeObserverë¡œ ë³€ê²½ ê°ì§€ ìµœì í™”

### 2. DOM ì¡°ì‘
- [ ] ë³µì œë³¸ ì°¸ì¡° ìºì‹±
- [ ] Virtual DOM ê³ ë ¤

### 3. ë©”ëª¨ë¦¬ ìµœì í™”
- [ ] í”„ë¡œí•„ ì‹œí€€ìŠ¤ â†’ ëª¨ë“ˆë¡œ ì—°ì‚°
- [ ] ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì´ë¯¸ì§€ ì–¸ë¡œë“œ

---

ì´ ë¬¸ì„œê°€ ì½”ë“œ êµ¬ì¡° ì´í•´ì— ë„ì›€ì´ ë˜ê¸¸ ë°”ëë‹ˆë‹¤! ğŸ˜Š
